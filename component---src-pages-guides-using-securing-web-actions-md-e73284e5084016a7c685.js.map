{"version":3,"file":"component---src-pages-guides-using-securing-web-actions-md-e73284e5084016a7c685.js","mappings":"sRAMaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,aAAAA,GAEIE,EAAYC,EAAAA,EACH,SAASC,EAAUC,GAG/B,IAFDC,EAAUD,EAAVC,WACGC,GAAKC,EAAAA,EAAAA,GAAAH,EAAAI,GAER,OAAOC,EAAAA,EAAAA,KAACR,GAASS,EAAAA,EAAAA,GAAA,GAAKV,EAAiBM,EAAK,CAAED,WAAYA,EAAYM,QAAQ,eAG5EF,EAAAA,EAAAA,KAAA,MACE,GAAM,wBAAsB,yBAE9BA,EAAAA,EAAAA,KAAA,mNACAA,EAAAA,EAAAA,KAAA,+EACAA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,OAAK,2JAG3BH,EAAAA,EAAAA,KAAA,gBACAA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,OAAK,6LAG3BH,EAAAA,EAAAA,KAAA,uFAAqFA,EAAAA,EAAAA,KAAA,MAAIG,WAAW,KAAG,uBAA6B,wKACpIH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,OAAK,6JAE3BH,EAAAA,EAAAA,KAAA,4GACAA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,OAAK,6IAK3BH,EAAAA,EAAAA,KAAA,MACE,GAAM,kBAAgB,mBAExBA,EAAAA,EAAAA,KAAA,yKACAA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,OAAK,mJAE3BH,EAAAA,EAAAA,KAAA,MACE,GAAM,WAAS,YAEjBA,EAAAA,EAAAA,KAAA,6WACAA,EAAAA,EAAAA,KAAA,uaACAA,EAAAA,EAAAA,KAAA,gEAA0DA,EAAAA,EAAAA,KAAA,KAAGG,WAAW,IACpE,KAAQ,mEAAiE,oDACd,KAGnE,CAEAT,EAAWU,gBAAiB,C","sources":["webpack://adobe-io-runtime/./src/pages/guides/using/securing_web_actions.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/adobe-io-runtime/adobe-io-runtime/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"securing-web-actions\"\n    }}>{`Securing Web Actions`}</h1>\n    <p>{`By default, a web action can be invoked by anyone knowing the action`}{`’`}{`s URL. If you want to restrict the access, you either use Basic Authentication or you build your own authentication layer.`}</p>\n    <p>{`Here is how you can enable Basic Authentication for a web action:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// create a web action with Basic Authentication on\nwsk action create my-secure-web-action main.js --web true --web-secure this-is-the-secret-hash\n`}</code></pre>\n    <p>{`or`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// update an existing web action to enable Basic Authenticationn or change the secret\nwsk action update my-secure-web-action main.js --web true --web-secure this-is-the-secret-hash\n`}</code></pre>\n    <p>{`Once you`}{`’`}{`ve enabled Basic Authentication, you`}{`’`}{`ll have to pass `}<em parentName=\"p\">{`X-Require-Wisk-Auth`}</em>{` header, and the secret you set, when invoking the web action. Assuming that your web action is created in the default package, this is how you`}{`’`}{`ll invoke it:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl -X GET -H \"X-Require-Whisk-Auth: <this-is-the-secret-hash>\" https://[your-namespaces].adobeioruntime.net/api/v1/web/default/my-secure-web-action\n`}</code></pre>\n    <p>{`If you fail in adding the authentication header or the secret is wrong, you will get an error:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n  \"error\": \"Authentication is possible but has failed or not yet been provided.\",\n  \"code\": \"OWGYkWwCUT7Ta6hWpfZWTQqRsfvcFTku\"\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"non-web-action\"\n    }}>{`Non Web Action`}</h2>\n    <p>{`If your action is not a web action, you can still use your namespace credentials, base64 encoded, to call any of the actions in your namespace, as follows:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl -X POST -H \"Authorization: Basic <base64-namepsace-auth>\" https://[your-namespaces].adobeioruntime.net/api/v1/default/my-secure-action\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"cookies\"\n    }}>{`Cookies`}</h2>\n    <p>{`The use of cookies directly from web actions on Runtime is discouraged. The reason for this is that, due to the shared nature of the infrastructure, it is not possible to completely segregate cookies between namespaces. It is okay to use the runtime domain for testing, but any cookie set directly by the runtime domain must be considered compromised.`}</p>\n    <p>{`To alleviate this, you can set up a forwarding proxy with a correct and valid second-level domain and send those requests along to the actual runtime domain. Inside your function, you can then implement an approve list or some shared secret to ensure that people attempting to access the functions directly are denied. Adobe also provides Container Native Applications, which can do much of this work for you.`}</p>\n    <p>{`For a fuller discussion of this topic you can read `}<a parentName=\"p\" {...{\n        \"href\": \"https://devcenter.heroku.com/articles/cookies-and-herokuapp-com\"\n      }}>{`Heroku`}{`’`}{`s discussion of their cookie policy`}</a>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutPropertiesLoose","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}